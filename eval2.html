<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Filtered Table</title>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 8px;
    }
    select {
      margin: 5px;
    }
  </style>
</head>
<body>
  <h2>Document Filter</h2>
  <label for="domainSelect">Domain:</label>
  <select id="domainSelect"></select>

  <label for="themeSelect">Theme:</label>
  <select id="themeSelect"></select>

  <label for="documentSelect">Document:</label>
  <select id="documentSelect"></select>

  <table id="dataTable"></table>



<script>
  const headers = ["Domain", "Theme", "Document", "Content"];
  const rows = [
    ["Education", "Curriculum", "Policy A", "Details of Policy A"],
    ["Education", "Assessment", "Policy B", "Details of Policy B"],
    ["Health", "Nutrition", "Policy C", "Details of Policy C"],
    ["Health", "Mental Health", "Policy D", "Details of Policy D"],
    ["Enterprise", "Innovation", "Policy E", "Details of Policy E"]
  ];

  const domainIndex = 0;
  const themeIndex = 1;
  const documentIndex = 2;

  const domainSelect = document.getElementById("domainSelect");
  const themeSelect = document.getElementById("themeSelect");
  const documentSelect = document.getElementById("documentSelect");
  const dataTable = document.getElementById("dataTable");

  function renderTable(data) {
    dataTable.innerHTML = "";
    data.forEach(row => {
      const tr = document.createElement("tr");
      row.forEach(cell => {
        const td = document.createElement(data.indexOf(row) === 0 ? "th" : "td");
        td.textContent = cell;
        tr.appendChild(td);
      });
      dataTable.appendChild(tr);
    });
  }

  function populateSelect(select, values) {
    select.innerHTML = "<option value=''>-- All --</option>";
    [...new Set(values)].forEach(value => {
      const option = document.createElement("option");
      option.value = value;
      option.textContent = value;
      select.appendChild(option);
    });
  }



  function updateThemes(domain) {
    const filtered = rows.filter(row => !domain || row[domainIndex] === domain);
    const themes = filtered.map(row => row[themeIndex]);
    populateSelect(themeSelect, themes);
    updateDocuments(domain, "");
  }

  function updateDocuments(domain, theme) {
    const filtered = rows.filter(row => {
      if (domain && row[domainIndex] !== domain) return false;
      if (theme && row[themeIndex] !== theme) return false;
      return true;
    });
    const documents = filtered.map(row => row[documentIndex]);
    populateSelect(documentSelect, documents);
  }

  function filterData() {
    const domain = domainSelect.value;
    const theme = themeSelect.value;
    const document = documentSelect.value;

    const filteredRows = rows.filter(row => {
      if (domain && row[domainIndex] !== domain) return false;
      if (theme && row[themeIndex] !== theme) return false;
      if (document && row[documentIndex] !== document) return false;
      return true;
    });

    const filtered = [headers, ...filteredRows.slice(0, 1)];
    renderTable(filtered);
  }

  domainSelect.addEventListener("change", () => {
    updateThemes(domainSelect.value);
    filterData();
  });
  themeSelect.addEventListener("change", () => {
    updateDocuments(domainSelect.value, themeSelect.value);
    filterData();
  });
  documentSelect.addEventListener("change", filterData);

  // Initial population
  populateSelect(domainSelect, rows.map(row => row[domainIndex]));
  updateThemes("");
  renderTable([headers]);
</script>
</body>
</html>